import{a as h,S as p,i as c}from"./assets/vendor-D0cagnvz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const i=h.create({baseURL:"https://pixabay.com/api/",params:{key:"48859157-4179ddf5331f3749a3f2c3141",q:"",image_type:"photo",orientation:"horizontal",safesearch:"true",page:null,per_page:40,totalHits:null}});async function g(t){i.defaults.params.page=1,i.defaults.params.q=t;try{const e=await i.get();return i.defaults.params.totalHits=e.data.totalHits,e.data.hits}catch{console.error("Error fetching data from Pixabay API")}}async function y(t){i.defaults.params.page+=1,i.defaults.params.q=t;try{return(await i.get()).data.hits}catch{console.error("Error fetching data from Pixabay API")}}const m={gallery:document.querySelector("#gallery")};function L(t){m.gallery.innerHTML=u(t)}function u(t){return t.map(o=>`<div class="image-container"><a href="${o.largeImageURL}"><img src="${o.webformatURL}" alt="${o.tags}" /></a><div class="info-bar"><div class="info-item"><h3 class="item-title">Likes</h3><p class="item-count">${o.likes}</p></div><div class="info-item"><h3 class="item-title">Views</h3><p class="item-count">${o.views}</p></div><div class="info-item"><h3 class="item-title">Comments</h3><p class="item-count">${o.comments}</p></div><div class="info-item"><h3 class="item-title">Downloads</h3><p class="item-count">${o.downloads}</p></div></div></div>`).join("")}function b(t){m.gallery.insertAdjacentHTML("beforeend",u(t))}const f=new p(".image-container a",{captionDelay:250});let n="";const a={searchForm:document.querySelector("#search-form"),loader:document.querySelector(".loader-wrap"),gallery:document.querySelector("#gallery"),loaderToLoadMore:document.querySelector(".loader-for-loadmore"),loadMoreBtn:document.querySelector("#load-more-btn")};a.searchForm.addEventListener("submit",v);a.loadMoreBtn.addEventListener("click",M);async function v(t){if(t.preventDefault(),a.gallery.innerHTML="",a.loader.classList.remove("disabled"),n=t.target.elements.search.value,n.trim()==="")return a.loader.classList.add("disabled"),a.loadMoreBtn.classList.add("hidden"),c.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",maxWidth:"432px"});try{const e=await g(n);if(e.length===0)return a.loader.classList.add("disabled"),c.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",maxWidth:"432px"});a.loader.classList.add("disabled"),L(e),f.refresh(),a.loadMoreBtn.classList.remove("hidden")}catch{console.error("Error fetching data from Pixabay API")}a.searchForm.reset()}async function M(t){a.loaderToLoadMore.classList.remove("disabled");try{const e=await y(n);a.loaderToLoadMore.classList.add("disabled");const o=Math.ceil(i.defaults.params.totalHits/i.defaults.params.per_page);if(b(e),f.refresh(),P(),i.defaults.params.page>=o)return a.loadMoreBtn.classList.add("hidden"),c.info({message:"We`re sorry, but you`ve reached the end of search results.",position:"topRight",maxWidth:"432px"})}catch{console.error("Error fetching data from Pixabay API")}}function P(){const t=document.querySelector(".image-container"),e=t.getBoundingClientRect().height;t&&window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
